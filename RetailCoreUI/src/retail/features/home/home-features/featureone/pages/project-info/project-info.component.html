<div class="project-info">
  <ul class="nav nav-tabs">
    <li class="nav-item">
      <a class="nav-link " [ngClass]="activeGeneralProjectInfo" (click)="GeneralProjectInformation()" style="cursor:context-menu;">General Project
        Information</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" [ngClass]="activeProjectUserStatusAndType" (click)="ProjectUserStatusAndType()" style="cursor:context-menu;" >Project Users
        Status and Type</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" [ngClass]="activeOtherInformation" (click)="OtherInformation()"  style="cursor:context-menu;">Other Information</a>
    </li>
  </ul>

  <form [formGroup]="generalProjectInformationForm" (ngSubmit)="GeneralProjectInformationFromData()">
    <div class="" *ngIf="divGeneralProjectInformation">
      <div class="page_info_wrapper" *ngIf="projectId">
        <span class="page_info">Created On: <span class="data"> {{projectCreatedOn}}</span>, Created By: <span class="data">{{projectCreatedBy}}</span></span>
        <span class="page_info">Modified On: <span class="data">{{projectUpdatedOn}}</span>, Modified By: <span
            class="data">{{projectUpdatedBy}}</span></span>
      </div>

      <div class="advance-filter-wrapper">
        <div class="row mx-0 w-100">
          <div class="col-lg-4 col-md-4 col-sm-12">
            <div class="d-flex align-items-center flex-row gap-2">
              <label class="mb-0 nowrap" for="projectName">Project Name</label>
              <input pInputText type="text" placeholder={{this.newProjectName}} formControlName="projectName">
            </div>
            <div class="text-danger"
              *ngIf="generalProjectInformationForm.controls['projectName'].invalid && (generalProjectInformationForm.controls['projectName'].touched  || generalProjectInformationForm.controls['projectName'].  dirty || generalProjectInfoisFormSubmitted)">
              <span class="required_text"
              *ngIf="generalProjectInformationForm.controls['projectName'].errors?.['required']">
              Project Name required</span>
              <span class="required_text"
              *ngIf="generalProjectInformationForm.controls['projectName'].errors?.['maxlength']">
              Maximum 40 characters allowed</span>
              <span class="required_text"
                *ngIf="generalProjectInformationForm.controls['projectName'].errors?.['uniqueProject']">
                Project Name already Exists</span>
            </div>
          </div>
          <!-- <div class="col-lg-3 col-md-3 col-sm-12 mr-3">
            <div class="d-flex align-items-center flex-row gap-2">
              <label class="mb-0 nowrap" for="verticalMarket">Vertical Market</label>
              <p-dropdown placeholder="Select" [options]="lstVerticalMarket" optionLabel="name" [filter]="true"
                filterBy="name" [showClear]="true" class="w-100" formControlName="selectedVerticalMarket"/>
            </div>
          </div> -->
          <div class="col-lg-5 col-md-5 col-sm-12 ">
            <div class="d-flex align-items-center flex-row gap-2">
              <label class="mb-0 nowrap" for="verticalMarket">Vertical Market</label>
              <p-treeSelect class=" w-full w-100" containerStyleClass="w-full" [options]="lstVerticalMarket" 
                placeholder="Select Item" [filter]="true" [filterInputAutoFocus]="true"
                formControlName="selectedVerticalMarket" optionValue="id" optionlabel="label" 
                [virtualScroll]="true" [virtualScrollItemSize]="37" [virtualScrollOptions]="{scrollHeight: '300px'}" />
              <!-- <p-dropdown placeholder="Select" [options]="lstVerticalMarket" optionLabel="name" [filter]="true"
                filterBy="name" [showClear]="true" class="w-100" formControlName="selectedVerticalMarket"/> -->
            </div>
          </div>
          <div class="col-lg-3 col-md-3 col-sm-12">
            <div class="d-flex align-items-center flex-row gap-2">
              <label class="mb-0 nowrap" for="projectPhase">Project Phase</label>
              <p-dropdown id="projectPhase" placeholder="Select" optionLabel="name" optionValue="code" [filter]="true" filterBy="name"
                [showClear]="true" class="w-100" [options]="lstProjectPhase" formControlName="selectedProjectPhase" />
            </div>
          </div>
        </div>
      </div>

      <div class="filter">
        <div class="row mx-0 w-100">
          <div class="col-lg-6 col-sm-12 mr-3">
            <label class="" for="description">Description</label>
            <input pInputText type="text" id="description" placeholder="Description" formControlName="description" />
            <div class="text-danger"
              *ngIf="generalProjectInformationForm.controls['description'].invalid && (generalProjectInformationForm.controls['description'].touched  || generalProjectInformationForm.controls['description'].  dirty || generalProjectInfoisFormSubmitted)">
              <span class="required_text"
                *ngIf="generalProjectInformationForm.controls['description'].errors?.['maxlength']">
                Maxmium 100 characters allowed</span>
            </div>
          </div>
          <div class="col-lg-2 col-md-3 col-sm-12">
            <label for="expectedBidDue">Expected Bid Due</label>
            <p-calendar [iconDisplay]="'input'" [showIcon]="true" inputId="icondisplay"
              formControlName="ExpectedBidDueDate" />
            <!-- <input pInputText type="date" id="expectedBidDue" class="form-control"> -->
          </div>
          <div class="col-lg-1 col-md-2 col-sm-12">
            <label for="probability">Probability %</label>
            <input pInputText type="number" id="probability" class="form-control" placeholder="Enter %"
              formControlName="probability" (keydown)="restrictKey($event)">
            <div class="text-danger"
              *ngIf="generalProjectInformationForm.controls['probability'].invalid && (generalProjectInformationForm.controls['probability'].touched  || generalProjectInformationForm.controls['probability'].  dirty || generalProjectInfoisFormSubmitted)">
              <span class="required_text" *ngIf="generalProjectInformationForm.controls['probability'].errors?.['min']">
                Invalid number</span>
              <span class="required_text" *ngIf="generalProjectInformationForm.controls['probability'].errors?.['max']">
                Max.100</span>
            </div>
          </div>
        </div>
      </div>

      <div class="main-content">
        <div class="row mx-0 w-100">
          <div class="col-lg-9 col-md-9 col-sm-12">
            <div class="d-flex flex-row gap-2 margin-on">
              <label class="mb-0 nowrap" for="probability">Customer Company Name <span
                  class="mandtory text-red">*</span></label>
              <!-- <input pInputText id="probability" type="text" placeholder="Customer Company Name" formControlName="customerCompanyName"> -->
              <div>
                <p-autoComplete formControlName="customerCompanyName" [suggestions]="customerCompanyNameSuggestion"
                  field="name" (completeMethod)="searchCustomerCompanyName($event)" [style]="{ width: '21rem' }"
                  minLength="3" />
                <div class="text-danger"
                  *ngIf="generalProjectInformationForm.controls['customerCompanyName'].invalid && (generalProjectInformationForm.controls['customerCompanyName'].touched  || generalProjectInformationForm.controls['customerCompanyName'].  dirty || generalProjectInfoisFormSubmitted)">
                  <span class="required_text"
                    *ngIf="generalProjectInformationForm.controls['customerCompanyName'].errors?.['required']">Customer
                    Company Name required</span>
                  <span class="required_text"
                    *ngIf="generalProjectInformationForm.controls['customerCompanyName'].errors?.['minlength']">Minimum
                    3 characters required</span>
                  <span class="required_text"
                    *ngIf="generalProjectInformationForm.controls['customerCompanyName'].errors?.['maxlength']">Maximum
                    50 characters allowed</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <h2>Customer Shipping Address <span>(Zip code is required to provide shipping quote)</span></h2>
        <div class="row mx-0 w-100 mb-2">
          <div class="col-lg-3 col-md-3 col-sm-12">
            <label for="locationName">Location Name</label>
            <input pInputText type="text" placeholder="Enter here" formControlName="locationName">
            <div class="text-danger"
              *ngIf="generalProjectInformationForm.controls['locationName'].invalid && (generalProjectInformationForm.controls['locationName'].touched  || generalProjectInformationForm.controls['locationName'].  dirty || generalProjectInfoisFormSubmitted)">
              <span class="required_text"
                *ngIf="generalProjectInformationForm.controls['locationName'].errors?.['maxlength']">
                Maxmium 50 characters allowed</span>
            </div>
          </div>
          <div class="col-lg-3 col-md-3 col-sm-12">
            <label for="address1">Address 1</label>
            <input pInputText type="text" id="address1" placeholder="Enter here" formControlName="address1">
            <div class="text-danger"
              *ngIf="generalProjectInformationForm.controls['address1'].invalid && (generalProjectInformationForm.controls['address1'].touched  || generalProjectInformationForm.controls['address1'].  dirty || generalProjectInfoisFormSubmitted)">
              <span class="required_text"
                *ngIf="generalProjectInformationForm.controls['address1'].errors?.['maxlength']">
                Maxmium 100 characters allowed</span>
            </div>
          </div>
          <div class="col-lg-3 col-md-3 col-sm-12">
            <label for="address2">Address 2</label>
            <input pInputText type="text" id="address2" placeholder="Enter here" formControlName="address2">
            <div class="text-danger"
              *ngIf="generalProjectInformationForm.controls['address2'].invalid && (generalProjectInformationForm.controls['address2'].touched  || generalProjectInformationForm.controls['address2'].  dirty || generalProjectInfoisFormSubmitted)">
              <span class="required_text"
                *ngIf="generalProjectInformationForm.controls['address2'].errors?.['maxlength']">
                Maxmium 100 characters allowed</span>
            </div>
          </div>
        </div>

        <div class="row mx-0 w-100">
          <div class="col">
            <label for="country">Country</label>
            <p-dropdown placeholder="Country" [options]="lstCountries" formControlName="selectedCountry"
              (onChange)="fillState()" optionLabel="name" optionValue="code" [filter]="true" filterBy="name"
              [showClear]="true" />
          </div>
          <div class="col">
            <label for="state">State</label>
            <p-dropdown placeholder="State" [options]="lstState" formControlName="selectedState" optionValue="code"
              (onChange)="fillCity()" optionLabel="name" [filter]="true" filterBy="name"
              [showClear]="true" />
          </div>
          <div class="col">
            <label for="city">City</label>
            <p-dropdown placeholder="City" [options]="lstCities" formControlName="selectedCity" optionLabel="name" optionValue="code"
              [filter]="true" filterBy="name" [showClear]="true" />
          </div>
          <div class="col">
            <label for="zipCode">Zip code<span class="text-danger">*</span></label>
            <input pInputText type="text" id="zipCode" placeholder="Enter here" formControlName="zipCode" (keydown)="restrictKey($event)">
            <div class="text-danger"
              *ngIf="generalProjectInformationForm.controls['zipCode'].invalid && (generalProjectInformationForm.controls['zipCode'].touched  || generalProjectInformationForm.controls['zipCode'].  dirty || generalProjectInfoisFormSubmitted)">
              <span class="required_text"
                *ngIf="generalProjectInformationForm.controls['zipCode'].errors?.['required']">Zip code required</span>
                <div>
              <span class="required_text"
                *ngIf="generalProjectInformationForm.controls['zipCode'].errors?.['pattern']">Invalid Zip Code</span>
              </div>
              <span class="required_text"
                *ngIf="generalProjectInformationForm.controls['zipCode'].errors?.['minlength']">Minimum 4 digits
                required</span>
              <span class="required_text"
                *ngIf="generalProjectInformationForm.controls['zipCode'].errors?.['maxlength']">Maximum 9 digits
                allowed</span>
            </div>
          </div>
        </div>

      </div>
      <div class="d-flex justify-content-end gap-2 mt-2 position-abs">
        <!-- <button class="btn btn-secondary mr-2">Cancel</button> -->
        <p-button label="Cancel" class="secondarybtn" (click)="cancelGeneralProjectInfoForm()" />
        <p-button type="submit" label="Next" class="primarybtn" />
        <!-- <button class="btn btn-primary">Save & Next</button> -->
      </div>
    </div>
  </form>
  <form [formGroup]="projectUserStatusAndType" (ngSubmit)="projectUserStatusAndTypeFormData()">
    <div class="" *ngIf="divProjectUsersStatusandType">
      <div class="header my-3">
        <div class="col-lg-3 col-md-3 col-sm-12 mr-3">
          <div class="d-flex align-items-center flex-row gap-2">
            <label class="mb-0 nowrap" for="status">Select Status</label>
            <p-dropdown placeholder="Active" [options]="lstStatus" formControlName="selectedStatus" optionLabel="name"
              [filter]="false" filterBy="name" [showClear]="false" class="w-100" />
          </div>
        </div>
      </div>
      <p-card class="project_user">
        <ng-template pTemplate="header">
          <h2 class="mb-0">Project user</h2>
          <div class="d-flex align-items-center gap-2">
            <p-button label="Add User" class="primarybtn" (click)="showDialog()" />
          </div>
        </ng-template>
        <div class="">
          <p-table  [value]="lstUsersPrj" [scrollable]="true" scrollHeight="324px"  [tableStyle]="{ 'min-width': '100%' }">
            <ng-template pTemplate="header">
              <tr>
                <th>Username</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Permission Level</th>
                <th class="text-center">Delete</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-lstuserproject let-i="rowIndex">
              <tr>
                <td>{{ lstuserproject.userId }}</td>
                <td>{{ lstuserproject.firstName }}</td>
                <td>{{ lstuserproject.lastName }}</td>
                <td>
                  <ng-container *ngIf="i === 0; else dropdown">

                    <p-dropdown  
                    [options]="lstAdminPermissionLevel"
                    optionLabel="name" 
                    optionValue="code"
                    [filter]="true" 
                    filterBy="name"
                    [showClear]="false" 
                    class="w-100" 
                    [disabled]="true"
                  />
                  </ng-container>
                  <ng-template #dropdown>
                    <p-dropdown 
                      placeholder="select permission level" 
                      [options]="lstPermissionLevel"
                      (onChange)="permissionLevel($event, lstuserproject)" 
                      optionLabel="name" 
                      optionValue="code"                      
                      filterBy="name"
                      [showClear]="false" 
                      class="w-100" 
                      [(ngModel)]="lstuserproject.permissionId" [ngModelOptions]="{standalone: true}"
                    />
                  </ng-template>
                  
                </td>
                <td class="text-center del_data"> <p-button class="trash" (click)="deleteUser(lstuserproject)">
                  <i>
                    <svg width="18" height="18" viewBox="0 0 14 15" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M4.08203 12.3369C3.7612 12.3369 3.48664 12.2228 3.25836 11.9945C3.0297 11.7658 2.91536 11.4911 2.91536 11.1702V3.58691H2.33203V2.42025H5.2487V1.83691H8.7487V2.42025H11.6654V3.58691H11.082V11.1702C11.082 11.4911 10.9679 11.7658 10.7396 11.9945C10.5109 12.2228 10.2362 12.3369 9.91536 12.3369H4.08203ZM9.91536 3.58691H4.08203V11.1702H9.91536V3.58691ZM5.2487 10.0036H6.41536V4.75358H5.2487V10.0036ZM7.58203 10.0036H8.7487V4.75358H7.58203V10.0036Z"
                        fill="#666666" />
                    </svg>
                  </i>
                </p-button></td>
              </tr>
            </ng-template>
          </p-table>
        </div>
        <p-dialog header="Add New User in Project : {{newProjectName}}" [(visible)]="visible" [modal]="true"
          [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }" [style]="{ width: '42vw' }" [draggable]="false"
          [resizable]="false" (onHide)="resetAddUserModel()">
          <div class="row mx-0 w-100">
            <div class="col-lg-5 col-md-5 col-sm-12 ">
              <div class="d-flex align-items-center flex-row gap-2">
                <label class="mb-0 nowrap" for="status">Search By</label>
                <p-dropdown placeholder="Select Field" [options]="lstSearchBy" formControlName="selectedSearchBy"
                  optionLabel="name" [filter]="true" filterBy="name" [showClear]="false" class="w-100" />
              </div>
            </div>
          </div>
          <div class="row mx-0 w-100 my-3">
            <div class="col-lg-6 col-md-6 col-sm-12 ">
              <div class="d-flex align-items-center flex-row gap-2">
                <label class="mb-0 nowrap" for="status">Search </label>
                <input pInputText type="text" placeholder="Search" formControlName="txtsearch" />
              </div>
            </div>
            <p-button label="Search" class="primarybtn mr-2" (onClick)="getSearch()" />
            <p-button label="Reset" class="tertiarybtn" (click)="resetAddUserModel()" />
          </div>
          <div class="">
            <table class="table">
              <thead>
                <tr>
                  <th><input type="checkbox" name="user" /></th>
                  <th>Username</th>
                  <th>First Name</th>
                  <th>Last Name</th>
                </tr>
              </thead>
              <tbody *ngFor="let item of lstUsers">
                <tr>
                  <td><input type="checkbox" name="user" (click)="setSelectActive(item)" /></td>
                  <td>{{ item.userId }}</td>
                  <td>{{ item.firstName }}</td>
                  <td>{{ item.lastName }}</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="d-flex align-items-center justify-content-end">
            <p-button label="Save" class="primarybtn" (onClick)="searchUserSave()" />
          </div>
        </p-dialog>
      </p-card>

      <div class="actions d-flex align-items-center justify-content-end gap-2 mt-2 position-abs">
        
        <p-button label="Cancel" class="secondarybtn" />
        <p-button type="submi" label="Next" class="primarybtn" (click)="OtherInformation()" />
      </div>
    </div>
  </form>
  <form [formGroup]="otherInformationFrom" (ngSubmit)="otherInformationFormData()">
    <div class="" *ngIf="divOtherInformation">

      <div class="other_info_wrapper">
        <p-card class="other_info">
          <ng-template pTemplate="header">
            <h2>Other Contact</h2>
            <!-- <p-button label="Add User" class="primarybtn" (click)="showDialog()" /> -->
          </ng-template>
          <div class="row mx-0 w-100">
            <div class="col-lg-6 col-md-6 col-sm-12 ">
              <div class="d-flex justify-content-between mb-2 flex-row gap-2">
                <label class="mb-0" for="status">Purchasing Contractor (Company/City)</label>
                <div class="w-100 text-right">
                  <input pInputText class="other_input" type="text" placeholder="Enter Here"
                    formControlName="purchasingContractor">
                  <div class="text-danger"
                    *ngIf="otherInformationFrom.controls['purchasingContractor'].invalid && (otherInformationFrom.controls['purchasingContractor'].touched  || otherInformationFrom.controls['purchasingContractor'].  dirty || otherInformationisFormSubmitted)">
                    <span class="required_text"
                      *ngIf="otherInformationFrom.controls['purchasingContractor'].errors?.['maxlength']">Maximum 50
                      characters allowed </span>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-6 col-md-6 col-ms-12 ">
              <div class="d-flex justify-content-between mb-2 flex-row gap-2">
                <label class="mb-0" for="status">Design Engineer (Company/City)</label>
                <div class="w-100 text-right">
                  <input pInputText class="other_input" type="text" placeholder="Enter Here"
                    formControlName="designEngineer">
                  <div class="text-danger"
                    *ngIf="otherInformationFrom.controls['designEngineer'].invalid && (otherInformationFrom.controls['designEngineer'].touched  || otherInformationFrom.controls['designEngineer'].  dirty || otherInformationisFormSubmitted)">
                    <span class="required_text"
                      *ngIf="otherInformationFrom.controls['designEngineer'].errors?.['maxlength']">Maximum 50
                      characters allowed </span>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-12 ">
              <div class="d-flex justify-content-between mb-2 flex-row gap-2">
                <label class="mb-0" for="status">Account Manager with Contractor Relationship:</label>
                <div class="w-100 text-right">
                  <input pInputText class="other_input" type="text" placeholder="Enter Here"
                    formControlName="accountManagerwithContactRelationship">
                  <div class="text-danger"
                    *ngIf="otherInformationFrom.controls['accountManagerwithContactRelationship'].invalid && (otherInformationFrom.controls['accountManagerwithContactRelationship'].touched  || otherInformationFrom.controls['accountManagerwithContactRelationship'].  dirty || otherInformationisFormSubmitted)">
                    <span class="required_text"
                      *ngIf="otherInformationFrom.controls['accountManagerwithContactRelationship'].errors?.['maxlength']">Maximum
                      50 characters allowed </span>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-12 ">
              <div class="d-flex justify-content-between mb-2 flex-row gap-2">
                <label class="mb-0" for="status">Account Manager with Engineer Relationship:</label>
                <div class="w-100 text-right">
                  <input pInputText class="other_input" type="text" placeholder="Enter Here"
                    formControlName="accountManagerwithEngineerRelationship">
                  <div class="text-danger"
                    *ngIf="otherInformationFrom.controls['accountManagerwithEngineerRelationship'].invalid && (otherInformationFrom.controls['accountManagerwithEngineerRelationship'].touched  || otherInformationFrom.controls['accountManagerwithEngineerRelationship'].dirty || otherInformationisFormSubmitted)">
                    <span class="required_text"
                      *ngIf="otherInformationFrom.controls['accountManagerwithEngineerRelationship'].errors?.['maxlength']">Maximum
                      50 characters allowed </span>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-12 ">
              <div class="d-flex justify-content-between mb-2 flex-row gap-2">
                <label class="mb-0" for="status">Customer Account Manager:</label>
                <div class="w-100 text-right">
                  <input pInputText class="other_input" type="text" placeholder="Enter Here"
                    formControlName="customerAccountManager">
                  <div class="text-danger"
                    *ngIf="otherInformationFrom.controls['customerAccountManager'].invalid && (otherInformationFrom.controls['customerAccountManager'].touched  || otherInformationFrom.controls['customerAccountManager'].dirty || otherInformationisFormSubmitted)">
                    <span class="required_text"
                      *ngIf="otherInformationFrom.controls['customerAccountManager'].errors?.['maxlength']">Maximum 50
                      characters allowed </span>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-12 ">
              <div class="d-flex justify-content-between mb-2 flex-row gap-2">
                <label class="mb-0" for="status">Customer Manager Office:</label>
                <div class="w-100 text-right">
                  <input pInputText class="other_input" type="text" placeholder="Enter Here"
                    formControlName="customerManagerOffice">
                  <div class="text-danger"
                    *ngIf="otherInformationFrom.controls['customerManagerOffice'].invalid && (otherInformationFrom.controls['customerManagerOffice'].touched  || otherInformationFrom.controls['customerManagerOffice'].dirty || otherInformationisFormSubmitted)">
                    <span class="required_text"
                      *ngIf="otherInformationFrom.controls['customerManagerOffice'].errors?.['maxlength']">Maximum 50
                      characters allowed </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- <p-dialog header="Add New User in Project : Project Name 01" [(visible)]="visible" [modal]="true" [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }" [style]="{ width: '42vw' }" [draggable]="false" [resizable]="false">
      <div class="row mx-0 w-100">
        <div class="col-lg-4 col-md-4 col-sm-12 ">
          <div class="d-flex align-items-center flex-row gap-2">
            <label class="mb-0 nowrap"  for="status">Search By</label>
            <p-dropdown placeholder="Select Field"  filterBy="name" class="w-100" />
          </div>
        </div>
      </div>
      <div class="row mx-0 w-100 my-3">
        <div class="col-lg-6 col-md-6 col-sm-12 ">
          <div class="d-flex align-items-center flex-row gap-2">
            <label class="mb-0 nowrap"  for="status">Search </label>
            <p-dropdown placeholder="Search"  filterBy="name" class="w-100" />
          </div>
        </div>
        <p-button label="Search" class="primarybtn mr-2" />
        <p-button label="Reset" class="tertiarybtn" />
        
      </div>
      <div class="table "></div>
      <div class="d-flex align-items-center justify-content-end">
        <p-button label="Save" class="primarybtn" />
      </div>
  </p-dialog> -->
        </p-card>
        <!-- project-document-list -->
        <div class="project_doc mt-3">
          <p-card class="other_info">
            <ng-template pTemplate="header">
              <h2 class="mb-0">Project Document List</h2>
              <div class="d-flex align-items-center gap-2 ">
                <p-button label="Add Project Document" class="primarybtn" (click)="addProjectDocument()" />
                <p-button label="Delete Selected Document" class="primarybtn"
                  [disabled]="!selectedDeletedDocument || !selectedDeletedDocument.length" (click)="deleteDocument()"/>
              </div>
            </ng-template>
            <div class="row mx-0">
              <div class="col-lg-12 p-0">
                <div class="">
                  <p-table class="table" [value]="lstDocuments" [scrollable]="true" scrollHeight="150px"
                    [tableStyle]="{ 'min-width': '100%' }" [(selection)]="selectedDeletedDocument">
                    <ng-template pTemplate="header">
                      <tr>
                        <th><p-tableHeaderCheckbox type="checkbox" name="user" /></th>
                        <th hidden="true">ID</th>
                        <th hidden="true">ProjectId</th>
                        <th>File Name</th>
                        <th>Description</th>
                        <th>Uploaded By</th>
                        <th>Uploaded On</th>
                        <th>Download</th>
                      </tr>
                    </ng-template >
                    <ng-template pTemplate="body" let-lstdocument>
                    <!-- <tbody > -->
                      <tr>
                        <td><p-tableCheckbox [value]="lstdocument" /></td>
                        <td hidden="true">{{lstdocument.ID}}</td>
                        <td hidden="true">{{lstdocument.ProjectId}}</td>
                        <td>{{ lstdocument.fileName }}</td>
                        <td>{{ lstdocument.documentDescription }}</td>
                        <td>{{ lstdocument.uploadedBy }}</td>
                        <td>{{lstdocument.uploadedOn | date: 'dd/MM/yyyy'}}</td>
                        <td (click)="downloadDocument(lstdocument)"><a>
                            <i>
                              <svg width="22" height="23" viewBox="0 0 22 23" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <rect y="0.5" width="22" height="22" rx="2" fill="#EBEBEB" />
                                <mask id="mask0_2053_8177" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="4"
                                  y="4" width="14" height="15">
                                  <rect x="4" y="4.5" width="14" height="14" fill="#D9D9D9" />
                                </mask>
                                <g mask="url(#mask0_2053_8177)">
                                  <path
                                    d="M14.9961 13.2402V15.4961H5.97266V13.2402H4.46875V15.4961C4.46875 16.3232 5.14551 17 5.97266 17H14.9961C15.8232 17 16.5 16.3232 16.5 15.4961V13.2402H14.9961ZM14.2441 10.2324L13.1839 9.17217L11.2363 11.1122V4.96875H9.73242V11.1122L7.78486 9.17217L6.72461 10.2324L10.4844 13.9922L14.2441 10.2324Z"
                                    fill="#8B8B8B" />
                                </g>
                              </svg>
                            </i>
                          </a>
                        </td>
                      </tr>
                    </ng-template>
                  </p-table>
                </div>
              </div>
            </div>

            <!-- upload-dialog -->
            <p-dialog header="Upload Document" [(visible)]="visible" [modal]="true"
              [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }" [style]="{ width: '42vw' }" [draggable]="false"
              [resizable]="false">
              <div class="row mx-0 w-100">
                <div class="col-lg-12 col-md-12 col-sm-12 p-0 mb-12">

                  <p-fileUpload #fileuploader name="myfile[]" url="https://www.primefaces.org/cdn/api/upload.php"
                    [multiple]="true" accept="" maxFileSize="1000000" (onUpload)="onTemplatedUpload()"
                    (onSelect)="onSelectedFiles($event)">
                    <ng-template pTemplate="header" let-files let-chooseCallback="chooseCallback"
                      let-clearCallback="clearCallback" let-uploadCallback="uploadCallback">
                      <div class="flex flex-wrap justify-content-between align-items-center flex-1 gap-2">
                        <div class="flex gap-2 browse_btn">
                          <p-button (onClick)="choose($event, chooseCallback)" [rounded]="true" [outlined]="true"
                            class="browse_file" label="Browse File" />
                        </div>
                      </div>
                    </ng-template>
                    <ng-template pTemplate="content" let-files let-uploadedFiles="uploadedFiles"
                      let-removeFileCallback="removeFileCallback"
                      let-removeUploadedFileCallback="removeUploadedFileCallback">
                      <div *ngIf="files?.length > 0" class="w-100" style="max-height: 190px; overflow-y: auto;">
                        <!-- <h5>Pending</h5> -->
                        <div class="flex flex-wrap p-0 sm:p-5 gap-5 upload_progress">
                          <div *ngFor="let file of files; let i = index"
                            class="card gap-12 flex flex-row surface-border align-items-baseline gap-3 position-relative mb-12 border-0">
                            <div>
                              <svg width="28" height="29" viewBox="0 0 28 29" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0_1563_9140)">
                                  <path
                                    d="M5.83333 2.4209C4.54463 2.4209 3.5 3.4709 3.5 4.75423V14.0876V18.7542V25.7542C3.5 27.0376 4.54463 28.0876 5.83333 28.0876H22.1667C23.4558 28.0876 24.5 27.0376 24.5 25.7542V18.7542V14.0876V9.4209L17.5 2.4209H5.83333Z"
                                    fill="#9B9B9B" />
                                  <path
                                    d="M5.83333 1.25391C4.54463 1.25391 3.5 2.30391 3.5 3.58724V12.9206V17.5872V24.5872C3.5 25.8706 4.54463 26.9206 5.83333 26.9206H22.1667C23.4558 26.9206 24.5 25.8706 24.5 24.5872V17.5872V12.9206V8.25391L17.5 1.25391H5.83333Z"
                                    fill="#C8C8C8" />
                                  <path d="M10.5013 5.9209H8.16797V22.2542H10.5013V5.9209Z" fill="#1ABC9C" />
                                  <path
                                    d="M8.16667 4.75391C7.52232 4.75391 7 5.27622 7 5.92057V8.25391V9.42057V11.7539V12.9206V15.2539V16.4206V18.7539V19.9206V22.2539C7 22.8979 7.52232 23.4206 8.16667 23.4206H10.5H11.6667H15.1667H16.3333H19.8333C20.4773 23.4206 21 22.8979 21 22.2539V19.9206V18.7539V16.4206V12.9206V9.42057V8.25391V5.92057C21 5.27622 20.4773 4.75391 19.8333 4.75391H16.3333H15.1667H10.5H8.16667ZM8.16667 5.92057H10.5V8.25391H8.16667V5.92057ZM11.6667 5.92057H15.1667V8.25391H11.6667V5.92057ZM16.3333 5.92057H19.8333V8.25391H16.3333V5.92057ZM8.16667 9.42057H10.5V11.7539H8.16667V9.42057ZM11.6667 9.42057H15.1667V11.7539H11.6667V9.42057ZM16.3333 9.42057H19.8333V11.7539H16.3333V9.42057ZM8.16667 12.9206H10.5V15.2539H8.16667V12.9206ZM11.6667 12.9206H15.1667V15.2539H11.6667V12.9206ZM16.3333 12.9206H19.8333V15.2539H16.3333V12.9206ZM8.16667 16.4206H10.5V18.7539H8.16667V16.4206ZM11.6667 16.4206H15.1667V18.7539H11.6667V16.4206ZM16.3333 16.4206H19.8333V18.7539H16.3333V16.4206ZM8.16667 19.9206H10.5V22.2539H8.16667V19.9206ZM11.6667 19.9206H15.1667V22.2539H11.6667V19.9206ZM16.3333 19.9206H19.8333V22.2539H16.3333V19.9206Z"
                                    fill="#FAFFFE" />
                                  <path
                                    d="M24.5 8.25391L17.5 1.25391V5.92057C17.5 7.20391 18.5442 8.25391 19.8333 8.25391H24.5Z"
                                    fill="#9B9B9B" />
                                </g>
                                <defs>
                                  <clipPath id="clip0_1563_9140">
                                    <rect width="28" height="28" fill="white" transform="translate(0 0.0869141)" />
                                  </clipPath>
                                </defs>
                              </svg>
                              <!-- <img role="presentation" [alt]="file.name" [src]="file.objectURL" width="28"
                                height="28" /> -->
                            </div>
                            <div
                              class="position-absolute d-flex align-items-center justify-content-between progress_data_info">
                              <span class="upload_info">{{ file.name }}</span>
                              <span class="upload_info">{{ formatSize(file.size) }}</span>
                              <!-- <p-badge value="Pending" severity="warning" /> -->
                            </div>
                            <p-progressBar [value]="totalSizePercent" [showValue]="false"
                              styleClass="md:w-20rem h-1rem w-full md:ml-auto"
                              [ngClass]="{ 'exceeded-progress-bar': totalSizePercent > 100 }">
                              <span class="white-space-nowrap">{{ totalSize }}</span>
                            </p-progressBar>
                            <p-button class="trash"
                              (click)="onRemoveTemplatingFile($event, file, removeFileCallback, i)">
                              <i>
                                <svg width="14" height="15" viewBox="0 0 14 15" fill="none"
                                  xmlns="http://www.w3.org/2000/svg">
                                  <path
                                    d="M4.08203 12.3369C3.7612 12.3369 3.48664 12.2228 3.25836 11.9945C3.0297 11.7658 2.91536 11.4911 2.91536 11.1702V3.58691H2.33203V2.42025H5.2487V1.83691H8.7487V2.42025H11.6654V3.58691H11.082V11.1702C11.082 11.4911 10.9679 11.7658 10.7396 11.9945C10.5109 12.2228 10.2362 12.3369 9.91536 12.3369H4.08203ZM9.91536 3.58691H4.08203V11.1702H9.91536V3.58691ZM5.2487 10.0036H6.41536V4.75358H5.2487V10.0036ZM7.58203 10.0036H8.7487V4.75358H7.58203V10.0036Z"
                                    fill="#666666" />
                                </svg>
                              </i>
                            </p-button>
                          </div>
                        </div>
                      </div>
                      <div *ngIf="uploadedFiles?.length > 0">
                        <h5>Completed</h5>
                        <div class="flex flex-wrap p-0 sm:p-5 gap-5">
                          <div *ngFor="let file of uploadedFiles; let i = index"
                            class="card m-0 px-6 flex flex-column border-1 surface-border align-items-center gap-3">
                            <div>
                              <svg width="28" height="29" viewBox="0 0 28 29" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0_1563_9140)">
                                  <path
                                    d="M5.83333 2.4209C4.54463 2.4209 3.5 3.4709 3.5 4.75423V14.0876V18.7542V25.7542C3.5 27.0376 4.54463 28.0876 5.83333 28.0876H22.1667C23.4558 28.0876 24.5 27.0376 24.5 25.7542V18.7542V14.0876V9.4209L17.5 2.4209H5.83333Z"
                                    fill="#9B9B9B" />
                                  <path
                                    d="M5.83333 1.25391C4.54463 1.25391 3.5 2.30391 3.5 3.58724V12.9206V17.5872V24.5872C3.5 25.8706 4.54463 26.9206 5.83333 26.9206H22.1667C23.4558 26.9206 24.5 25.8706 24.5 24.5872V17.5872V12.9206V8.25391L17.5 1.25391H5.83333Z"
                                    fill="#C8C8C8" />
                                  <path d="M10.5013 5.9209H8.16797V22.2542H10.5013V5.9209Z" fill="#1ABC9C" />
                                  <path
                                    d="M8.16667 4.75391C7.52232 4.75391 7 5.27622 7 5.92057V8.25391V9.42057V11.7539V12.9206V15.2539V16.4206V18.7539V19.9206V22.2539C7 22.8979 7.52232 23.4206 8.16667 23.4206H10.5H11.6667H15.1667H16.3333H19.8333C20.4773 23.4206 21 22.8979 21 22.2539V19.9206V18.7539V16.4206V12.9206V9.42057V8.25391V5.92057C21 5.27622 20.4773 4.75391 19.8333 4.75391H16.3333H15.1667H10.5H8.16667ZM8.16667 5.92057H10.5V8.25391H8.16667V5.92057ZM11.6667 5.92057H15.1667V8.25391H11.6667V5.92057ZM16.3333 5.92057H19.8333V8.25391H16.3333V5.92057ZM8.16667 9.42057H10.5V11.7539H8.16667V9.42057ZM11.6667 9.42057H15.1667V11.7539H11.6667V9.42057ZM16.3333 9.42057H19.8333V11.7539H16.3333V9.42057ZM8.16667 12.9206H10.5V15.2539H8.16667V12.9206ZM11.6667 12.9206H15.1667V15.2539H11.6667V12.9206ZM16.3333 12.9206H19.8333V15.2539H16.3333V12.9206ZM8.16667 16.4206H10.5V18.7539H8.16667V16.4206ZM11.6667 16.4206H15.1667V18.7539H11.6667V16.4206ZM16.3333 16.4206H19.8333V18.7539H16.3333V16.4206ZM8.16667 19.9206H10.5V22.2539H8.16667V19.9206ZM11.6667 19.9206H15.1667V22.2539H11.6667V19.9206ZM16.3333 19.9206H19.8333V22.2539H16.3333V19.9206Z"
                                    fill="#FAFFFE" />
                                  <path
                                    d="M24.5 8.25391L17.5 1.25391V5.92057C17.5 7.20391 18.5442 8.25391 19.8333 8.25391H24.5Z"
                                    fill="#9B9B9B" />
                                </g>
                                <defs>
                                  <clipPath id="clip0_1563_9140">
                                    <rect width="28" height="28" fill="white" transform="translate(0 0.0869141)" />
                                  </clipPath>
                                </defs>
                              </svg>
                              <!-- <img role="presentation" [alt]="file.name" [src]="file.objectURL" width="100" height="50" /> -->
                            </div>
                            <span class="font-semibold">{{ file.name }}</span>
                            <div>{{ formatSize(file.size) }}</div>
                            <!-- <p-badge value="Completed" class="mt-3" severity="success" /> -->
                            <p-button icon="pi pi-times" [outlined]="true" [rounded]="true" severity="danger" />
                          </div>
                        </div>
                      </div>
                    </ng-template>
                    <ng-template pTemplate="file"> </ng-template>
                    <ng-template pTemplate="empty">
                      <div class="drag_drop flex align-items-center justify-content-center flex-column">
                        <i class="">
                          <svg width="38" height="23" viewBox="0 0 38 23" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_1563_9116)">
                              <rect width="38" height="22" transform="translate(0 0.0869141)" fill="white" />
                              <path
                                d="M30.6104 9.60457C29.9112 4.19571 25.196 0 19.5 0C15.0904 0 11.26 2.53157 9.5112 6.52143C6.0744 7.53028 3.5 10.7171 3.5 14.1429C3.5 18.4753 7.0888 22 11.5 22H29.1C32.6296 22 35.5 19.1809 35.5 15.7143C35.4975 14.3057 35.0146 12.9385 34.1283 11.831C33.242 10.7236 32.0035 9.93969 30.6104 9.60457ZM21.1 14.1429V18.8571H17.9V14.1429H13.1L19.5 6.28571L25.9 14.1429H21.1Z"
                                fill="url(#paint0_linear_1563_9116)" />
                            </g>
                            <defs>
                              <linearGradient id="paint0_linear_1563_9116" x1="19.5" y1="0" x2="19.5" y2="22"
                                gradientUnits="userSpaceOnUse">
                                <stop stop-color="#DA2129" />
                                <stop offset="0.63" stop-color="#FF6B3D" />
                                <stop offset="1" stop-color="#DA2129" />
                              </linearGradient>
                              <clipPath id="clip0_1563_9116">
                                <rect width="38" height="22" fill="white" transform="translate(0 0.0869141)" />
                              </clipPath>
                            </defs>
                          </svg>
                        </i>
                        <p class="mb-0">Drag and drop files OR</p>
                      </div>
                    </ng-template>
                  </p-fileUpload>
                </div>

              </div>

              <div class="col-lg-12 col-md-12 col-sm-12 p-0 mb-12">
                <label class="mb-2" for="description">Description </label>
                <input pInputText type="text" placeholder="Type here" formControlName="uploadDocumentDescription">
              </div>
              <div class="d-flex align-items-center justify-content-end">
                <p-button label="Upload" class="primarybtn" (click)="uploadDocument()" />
              </div>
            </p-dialog>
          </p-card>
        </div>
      </div>
      <div class="actions d-flex align-items-center justify-content-end gap-2 mt-2 position-abs">
        <p-button label="Archive Project" class="primarybtn" (onClick)="deleteSingleProject(projectId)"
          [disabled]="projectId.length ===0" />
        <p-button label=" Cancel" class="tertiarybtn" />
        <p-button type="submit" label="Submit" class="primarybtn" />
      </div>
    </div>
  </form>
</div>